# .env.template - UPDATED WITH LEAD ROUTER PRO VARIABLES
# Copy this file to .env and fill in your actual values

# =================================
# BASIC SERVER CONFIGURATION
# =================================
NODE_ENV=development
PORT=3000

# =================================
# SECURITY CONFIGURATION
# =================================
# Generate a strong 32+ character secret for JWT tokens
JWT_SECRET=your-super-secure-jwt-secret-at-least-32-characters-long

# Generate encryption keys for sensitive data
ENCRYPTION_KEY=your-aes-256-encryption-key-32-chars
API_SECRET_KEY=your-api-secret-key-for-internal-calls
INTERNAL_API_KEY=your-internal-api-key-for-agent-communication

# =================================
# EMAIL CONFIGURATION (FROM LEAD ROUTER PRO)
# =================================
# Gmail credentials for 2FA and notifications
FREE_2FA_EMAIL=your.gmail@gmail.com
FREE_2FA_PASSWORD=your-16-char-gmail-app-password

# Email settings
EMAIL_TEST_MODE=true
TWO_FACTOR_ENABLED=true
TWO_FACTOR_CODE_LENGTH=6
TWO_FACTOR_CODE_EXPIRE_MINUTES=10

# =================================
# GOHIGHLEVEL CONFIGURATION
# =================================
# Primary GHL API configuration
GHL_API_KEY=your-ghl-private-integration-token
GHL_API_BASE_URL=https://services.leadconnectorhq.com
GHL_API_VERSION=2021-07-28
GHL_LOCATION_ID=your-ghl-location-id

# GHL Pipeline and Stages (get these from your GHL account)
GHL_DEALS_PIPELINE_ID=your-pipeline-id
GHL_DEALS_STAGE_NEW=your-new-stage-id
GHL_DEALS_STAGE_PROCESSING=your-processing-stage-id
GHL_DEALS_STAGE_APPROVED=your-approved-stage-id
GHL_DEALS_STAGE_DECLINED=your-declined-stage-id
GHL_DEALS_STAGE_FUNDED=your-funded-stage-id

# GHL V1 API for user management (premium dealers)
GHL_AGENCY_API_KEY=your-ghl-agency-api-key
GHL_COMPANY_ID=your-ghl-company-id
GHL_PRIVATE_TOKEN=your-ghl-private-token

# Webhook secrets
GHL_WEBHOOK_SECRET=your-ghl-webhook-secret

# =================================
# DEALERTRACK CONFIGURATION
# =================================
DEALERTRACK_QUEUE_POLL_INTERVAL=30000
DEALERTRACK_MAX_RETRY_ATTEMPTS=3
DEALERTRACK_TIMEOUT=60000
DEALERTRACK_WEBHOOK_SECRET=your-dealertrack-webhook-secret

# For testing/development
MOCK_DEALERTRACK=false

# =================================
# DATABASE CONFIGURATION
# =================================
# For development, leave these blank to use JSON files
# For production, configure PostgreSQL
DATABASE_URL=
DATABASE_SSL=false

# =================================
# REDIS CONFIGURATION (PRODUCTION)
# =================================
# For caching and session management in production
REDIS_URL=
REDIS_PASSWORD=

# =================================
# CORS AND SECURITY
# =================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,https://your-domain.com

# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# =================================
# SESSION AND TOKEN CONFIGURATION
# =================================
SESSION_TIMEOUT_MINUTES=60
TOKEN_REFRESH_THRESHOLD_MINUTES=15

# =================================
# FILE UPLOAD CONFIGURATION
# =================================
MAX_FILE_SIZE=10485760
ALLOWED_FILE_TYPES=pdf,jpg,jpeg,png,doc,docx

# =================================
# LOGGING CONFIGURATION
# =================================
LOG_LEVEL=info
LOG_FILE=logs/pinnacle-portal.log

# =================================
# MONITORING AND HEALTH
# =================================
HEALTH_CHECK_INTERVAL=300000
CLEANUP_INTERVAL=3600000

# =================================
# BUSINESS CONFIGURATION
# =================================
DEFAULT_SUBSCRIPTION_TIER=basic
PREMIUM_FEATURES_ENABLED=true

# =================================
# API TIMEOUTS
# =================================
GHL_API_TIMEOUT=30000
EMAIL_TIMEOUT=10000

# =================================
# DEVELOPMENT/TESTING FLAGS
# =================================
SKIP_EMAIL_VERIFICATION=false
DEBUG_MODE=false

# =================================
# DATA RETENTION POLICIES
# =================================
CONVERSATION_LOG_RETENTION_DAYS=365
AUDIT_LOG_RETENTION_DAYS=2555
APPLICATION_DATA_RETENTION_DAYS=2555

# =================================
# GMAIL SETUP INSTRUCTIONS
# =================================
# To get your Gmail App Password:
# 1. Enable 2-Step Verification on your Google account
# 2. Go to Google Account Settings > Security
# 3. Under "2-Step Verification", click "App passwords"
# 4. Select "Mail" and "Other (custom name)"
# 5. Enter "Pinnacle Portal" as the name
# 6. Copy the 16-character password to FREE_2FA_PASSWORD
# 7. Set EMAIL_TEST_MODE=false to enable real emails

# =================================
# GOHIGHLEVEL SETUP INSTRUCTIONS
# =================================
# To get your GHL API credentials:
# 1. Log into your GHL sub-account
# 2. Go to Settings > Integrations > Private Integrations
# 3. Create new integration with scopes:
#    - contacts.readonly, contacts.write
#    - opportunities.readonly, opportunities.write
#    - pipelines.readonly
#    - workflows.readonly, workflows.write
# 4. Copy the Private Token to GHL_API_KEY
# 5. Get Location ID from Settings > Business Profile
# 6. Create pipeline and get stage IDs for deal flow

# =================================
# SECURITY NOTES
# =================================
# - Never commit this .env file to version control
# - Use strong, unique passwords and secrets
# - Rotate API keys and passwords regularly
# - Use HTTPS in production
# - Enable GHL webhook signature verification